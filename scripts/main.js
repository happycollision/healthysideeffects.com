!function(e){e(document).ready(function(){function n(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function t(){return e('input[type="text"]').val()}function a(){var e="orange"===u.find('input[name="day"]:checked').val()?!0:!1;return e?r("nutrition.carbs","10 g/serving"):r("nutrition.carbs","90 g/serving")}function r(e,n){return e+"="+encodeURIComponent(n)}function i(){var e=[];for(var n in d)if(d.hasOwnProperty(n)){var t=n.replace(" ","-");u.find("#"+t+":checked").length>0&&e.push(r("allowedAllergy",d[n]))}return e}function o(){var e=[];for(var n in l)if(l.hasOwnProperty(n)){var t=n.replace(" ","-");u.find("#"+t+":checked").length>0&&e.push(r("allowedDiet",l[n]))}return e}function s(){for(var e in d)if(d.hasOwnProperty(e)){var t=e.replace(" ","-"),a=n(e),r='<label for="'+t+'"><input type="checkbox" id="'+t+'"> '+a+"</label>";u.find("#allergies-fieldset").append(r)}}function c(){for(var e in l)if(l.hasOwnProperty(e)){var t=e.replace(" ","-"),a=n(e),r='<label for="'+t+'"><input type="checkbox" id="'+t+'"> '+a+"</label>";u.find("#diets-fieldset").append(r)}}function f(){var n=[];return n.push(r("q",t())),n.push(a()),n.push(r("excludedIngredient","sugar")),n.push(r("noUserSettings","true")),e.each(i(),function(e,t){n.push(t)}),e.each(o(),function(e,t){n.push(t)}),n.join("&")}var u=e("form"),d={dairy:"396^Dairy-Free",egg:"397^Egg-Free",gluten:"393^Gluten-Free",peanut:"394^Peanut-Free",seafood:"398^Seafood-Free",sesame:"399^Sesame-Free",soy:"400^Soy-Free",sulfite:"401^Sulfite-Free","tree nut":"395^Tree Nut-Free",wheat:"392^Wheat-Free"},l={paleo:"403^Paleo",pescetarian:"390^Pescetarian",vegetarian:"387^Lacto-ovo vegetarian","lacto vegetarian":"388^Lacto vegetarian","ovo vegetarian":"389^Ovo vegetarian",vegan:"386^Vegan"};s(),c(),u.on("submit",function(e){if(e.preventDefault(),""===t())return u.find(".message").html("You need to specify a search above.").fadeIn(200),void u.find("#main-query").on("focus",function(){u.find(".message").fadeOut(200),u.find("#main-query").off("focus")});var n="//yummly.com/recipes?",a=f();n+=a,console.log(n),u.find("#open-in-new:checked").length>0?window.open(n):window.location=n}),u.find("fieldset#day-fieldset input").on("change",function(){var n=e(this).closest("fieldset").find("input"),t=n.filter(":checked"),a="orange"===t.val()?!0:!1;n.parent().removeClass("active"),t.parent().addClass("active"),a?e(this).closest("form").removeClass("carb-day").addClass("protein-day"):e(this).closest("form").removeClass("protein-day").addClass("carb-day")}),u.find("fieldset#extra-options-fieldset").on("click",function(){e(this).find("fieldset").stop().toggle(400)})})}(jQuery);